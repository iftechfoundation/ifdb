<?php

include_once "session-start.php";
include_once "api.php";

apiPageHeader("taggame");

?>

<p>The taggame API lets applications edit tags on IFDB games.</p>

<h2>Protocol</h2>

<p>The taggame API is implemented as an http JSON web service at
<tt>https://ifdb.org/taggame</tt>. All parameters are passed as
JSON-encoded POST data with the HTTP request. As typical for HTTP, there's no
session state or context; the entire transaction is carried out as
the single request.

<h2>Example request body</h2>

<p>
<pre>
{
    "username": "<i>The IFDB email address of your account; required</i>",
    "password": "<i>Your IFDB password; required</i>",
    "id": "<i>the <a href="https://ifdb.org/help-tuid">TUID</a> for
        the game you want to update; required</i>",
    "tags": [
        "one tag",
        "another tag",
        "another tag",
    ],
}
</pre>
</p>

<p><b>The tags you add will remove/replace all tags you've previously
set.</b> If you submit a request with <tt>["example1"]</tt> and then
later submit a request with <tt>["example2"]</tt>, the API will
<i>remove</i> your "example1" tag, replacing it with "example2". If
you pass an empty array <tt>[]</tt>, all of the tags you've set
will be removed.

<p>To add a tag without removing any tags, first query for your
existing tags using the <a href="gametags">gametags API</a>, with the
<tt>mine_only</tt> parameter.

<h2>Reply format</h2>

<p>The server replies to the request with an HTTP status code 200 OK on success,
and a JSON object describing the result in the format of the <a href="gametags">gametags API</a>.

<p>On error, the server replies with another status code, and response text with an error message.</p>
